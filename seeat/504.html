<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="504座位隨機抽選器，快速生成座位表，不用慢慢一個一個用其他選號器抽選，再慢慢寫到黑板上，一個按鈕按下去，直接顯示！">
	<meta name="viewport" content="width=413.571, initial-scale=0.91">
	<title>22nd 504 Set Seat</title>
	<style>
		body {
			width: 100%;
			height: 100%;
			margin: 0;
			background: #e0f0ff;
		}
		table,
		tbody {
			width: 420px;
			height: 300px;
		}
		td {
			width: 100rem;
			height: 50px;
			padding: 0px;
			vertical-align: center;
			text-align: center;
			font-size: 27.5px;
			user-select: none;
		}

		td.chart {
			border: .5px solid #999999;
			border-radius: 7px;
			background: #ffcec2;
			box-shadow: inset -1.25px -1.25px 0px .5px #555555;
			transition: .125s;
		}

		td.chart:active {
			box-shadow: inset 1px 1px 0px .5px #555555;
		}

		button {
			width: 400px;
			height: 40px;
			background: #99a9ff;
			border: 2px solid #999999;
			border-radius: 50px;
			margin-top: 10px;
			margin-left: 10px;
			font-size: 18px;
			cursor: pointer;
			transition: .25s;
			box-shadow: 0 0 8px .5px #333a;
		}

		button:disabled {
			filter: saturate(.5);
			opacity: .75;
			border: 1px solid #c0c0c0;
			cursor: not-allowed;
		}
		
		button:active {
			opacity: .7;
			scale: .95;
			box-shadow: 0 0 1px 0px #333a;
		}
		
		td.geted {
			animation: getani .5s;
		}
		
		h2{
			margin: 0;
			padding: 0;
		}
		
		h4{
			margin: 0;
			padding: 0;
			margin-left: 230px;
		}
		
		@keyframes getani {
			0% {
				scale: 1;
			}
			50% {
				scale: 1.3;
				background: #ffb499;
				color: #760;
			}
			100% {
				scale: 1;
			}
		}
	</style>
</head>

<body>
	<h2>504 Easy Seating Generator</h2>
	<h4>by 50905</h4>
	<div class="formcenter">
		<table>
			<tbody>
				<tr>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
				</tr>
				<tr>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
				</tr>
				<tr>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
				</tr><tr>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
				</tr><tr>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
				</tr><tr>
					<td class=""></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class="chart"></td>
					<td class=""></td>
				</tr>
			</tbody>
		</table>
		<button>快速重新生成</button><br>
		<button>動畫重新生成</button>
	</div>
	<script>
		document.getElementsByTagName('button')[0].onmousedown = gr;
		document.getElementsByTagName('button')[1].onmousedown = agr;
		function gr() {
			var a = [1, 2, 3, 4, 5, 6, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 30, 31, 32, 34];
			var r = [];
			var take = [String(a.splice(Math.floor(Math.random() * a.length), 1)).padStart(2, '0'), '07', '08', '15', '23', '28', '29', '33'];
			for (var c = 0; c < 26; c++) {
				r.push(String(a.splice(Math.floor(Math.random() * a.length), 1)).padStart(2, '0'));
			};
			for (var c = 0; c < 8; c++) {
				r.push(String(take.splice(Math.floor(Math.random() * take.length), 1)).padStart(2, '0'));
			};
			var t1 = String(r.splice(28, 1));
			var t2 = String(r.splice(25, 1));
			r.splice(25, 0, t1);
			r.splice(28, 0, t2);
			document.querySelectorAll('.chart').forEach((e, n) => {
				e.innerHTML = r[n];
			});
		}
		async function agr() {
			document.getElementsByTagName('button')[0].disabled = true;
			document.getElementsByTagName('button')[1].disabled = true;
			var a = [1, 2, 3, 4, 5, 6, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 30, 31, 32, 34];
			var r = [];
			var take = [String(a.splice(Math.floor(Math.random() * a.length), 1)).padStart(2, '0'), '07', '08', '15', '23', '28', '29', '33'];
			for (var c = 0; c < 26; c++) {
				r.push(String(a.splice(Math.floor(Math.random() * a.length), 1)).padStart(2, '0'));
			};
			for (var c = 0; c < 8; c++) {
				r.push(String(take.splice(Math.floor(Math.random() * take.length), 1)).padStart(2, '0'));
			};
			var t1 = String(r.splice(28, 1));
			var t2 = String(r.splice(25, 1));
			r.splice(25, 0, t1);
			r.splice(28, 0, t2);
			document.querySelectorAll('.chart').forEach((e, n) => {
				e.innerHTML = '00';
			});
			var anii = [];
			for (var d = 0; d < 34; d++) {
				anii[d] = setInterval("document.querySelectorAll('.chart')[" + d + "].innerHTML = String(Math.floor(Math.random() * 36) + 1).padStart(2, '0')", 1);
			};
			for (var q = 0; q < 34; q++) {
				await delay(0.075);
				clearInterval(anii[q]);
				document.querySelectorAll('.chart')[q].classList.add('geted');
				document.querySelectorAll('.chart')[q].innerHTML = r[q];
				setTimeout('document.querySelectorAll(".chart")[' + q + '].classList.remove("geted")', 800);
			};
			document.getElementsByTagName('button')[0].disabled = false;
			document.getElementsByTagName('button')[1].disabled = false;
		}
		function delay(n) {
			return new Promise(function (resolve) {
				setTimeout(resolve, n * 1000);
			});
		}
		document.querySelectorAll('.chart').forEach((e, n) => {
			e.innerHTML = '&nbsp;&nbsp;';
		});
	</script>
</body>
</html>
